syntax = "proto3";
package atwany;

message media {
  enum Size {
    ORIGINAL = 0;
    THUMBNAIL = 1;
    SMALL = 2;
    MEDIUM = 3;
  }
  enum AspectRatio {
    DEFAULT = 0;
    X16X9 = 1;
  }

  message UploadResponse {
    Size size = 1;
    string filename = 2;
    string fileExtension = 3;
    AspectRatio aspectRatio = 4;
    string filePath = 5;
  }

  message UploadRequest {
    bytes image = 1;
    string mimetype = 2;
    string fileName = 3;
  }
}

service Media {
  rpc Upload(media.UploadRequest) returns (stream media.UploadResponse);
}
